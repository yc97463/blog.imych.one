<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新 | YC Photography</title><meta name=keywords content="Synology,Git,Docker,GitHub"><meta name=description content="有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。
不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。
這篇將示範：

使用 GitHub Deploy Key 進行權限驗證
使用 Docker container 執行 git pull
自動更新 repo 至指定資料夾
可整合 DSM 任務排程器定時執行


🧱 前置準備：建立資料夾結構
在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。
請搭配 SSH 連線來操作在根目錄建立資料夾。

如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。


volume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。"><meta name=author content="map[name:油成]"><link rel=canonical href=https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/><link crossorigin=anonymous href=/assets/css/stylesheet.5992f176555aa017ee8325dc1c15512693d0a46357ce3faf61d6456b618acca3.css integrity="sha256-WZLxdlVaoBfugyXcHBVRJpPQpGNXzj+vYdZFa2GKzKM=" rel="preload stylesheet" as=style><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Noto+Sans+TC:wght@100..900&family=Space+Grotesk:wght@300..700&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&&display=swap" rel=stylesheet><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://imych.one/assets/youu.png><link rel=icon type=image/png sizes=16x16 href=https://imych.one/assets/youu.png><link rel=icon type=image/png sizes=32x32 href=https://imych.one/assets/youu.png><link rel=apple-touch-icon href=https://imych.one/assets/youu.png><link rel=mask-icon href=https://imych.one/assets/youu.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/"><meta property="og:site_name" content="YC Photography"><meta property="og:title" content="踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新"><meta property="og:description" content="有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。
不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。
這篇將示範：
使用 GitHub Deploy Key 進行權限驗證 使用 Docker container 執行 git pull 自動更新 repo 至指定資料夾 可整合 DSM 任務排程器定時執行 🧱 前置準備：建立資料夾結構 在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。
請搭配 SSH 連線來操作在根目錄建立資料夾。
如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。
volume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。"><meta property="og:locale" content="zh-TW"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-07-16T00:00:00+08:00"><meta property="article:modified_time" content="2025-07-16T00:00:00+08:00"><meta property="article:tag" content="Synology"><meta property="article:tag" content="Git"><meta property="article:tag" content="Docker"><meta property="article:tag" content="GitHub"><meta property="og:image" content="https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-fkyr.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-fkyr.png"><meta name=twitter:title content="踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新"><meta name=twitter:description content="有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。
不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。
這篇將示範：

使用 GitHub Deploy Key 進行權限驗證
使用 Docker container 執行 git pull
自動更新 repo 至指定資料夾
可整合 DSM 任務排程器定時執行


🧱 前置準備：建立資料夾結構
在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。
請搭配 SSH 連線來操作在根目錄建立資料夾。

如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。


volume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.imych.one/post/"},{"@type":"ListItem","position":2,"name":"踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新","item":"https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新","name":"踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新","description":"有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。\n不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。\n這篇將示範：\n使用 GitHub Deploy Key 進行權限驗證 使用 Docker container 執行 git pull 自動更新 repo 至指定資料夾 可整合 DSM 任務排程器定時執行 🧱 前置準備：建立資料夾結構 在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。\n請搭配 SSH 連線來操作在根目錄建立資料夾。\n如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。\nvolume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。\n","keywords":["Synology","Git","Docker","GitHub"],"articleBody":"有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。\n不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。\n這篇將示範：\n使用 GitHub Deploy Key 進行權限驗證 使用 Docker container 執行 git pull 自動更新 repo 至指定資料夾 可整合 DSM 任務排程器定時執行 🧱 前置準備：建立資料夾結構 在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。\n請搭配 SSH 連線來操作在根目錄建立資料夾。\n如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。\nvolume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。\n/volume1/ # 你的 NAS 根目錄，此處以 volume1 為例 └── / # 你放專案 code 資料夾的名稱 └── git_pull_env/ # Git 自動化執行環境 ├── .ssh/ # 存放 Deploy Key 與 ssh config ├── git-pull-in-docker.sh # 用 Docker 執行 git pull 的腳本 └── known_hosts # 預設填入 github.com host key 🔐 步驟 1：產生 SSH Deploy Key 我們採用 SSH Deploy Key 的方式來部署，相較於使用 URL 搭配 access token，這種方式更為安全，能有效避免 token 在連線過程中被竊聽或盜用。\n連線方式 優點 缺點 適用情境 HTTPS （搭配 Personal Access Token） 易於設定：只需在 URL 中嵌入 access token 即可。 安全性較低：token 在連線過程中可能被惡意程式碼或網路監聽竊取，存在外洩風險。 個人專案或非機密性的部署環境。 SSH （搭配 Deploy Key） 安全性更高：採用加密通訊協定，連線過程中不會傳輸任何憑證，有效避免 token 被竊聽或盜用。 設定步驟較為繁瑣：需要產生 SSH 金鑰對並在 GitHub 專案中新增 Deploy Key。 正式部署環境、伺服器或需要嚴謹安全性的自動化部署流程。 使用 SSH 連線至你的 NAS，在終端機執行以下指令。\nmkdir -p /volume1//git_pull_env/.ssh ssh-keygen -t ed25519 -f /volume1//git_pull_env/.ssh/id_ed25519 -C \"@\" chmod 600 /volume1//git_pull_env/.ssh/id_ed25519 第二條指令末端的 是為了方便辨識，可以改成其他名稱； 則是你的 NAS 主機名稱，一樣可以改成其他名稱，例如 deploy@yc_nas。\n📋 步驟 2：設定 SSH config SSH config 的設定，指定使用我們剛剛產生的 Deploy Key，主要是為了讓 GitHub 認得這支有權限的身份，進而存取專案。\ncat \u003e /volume1//git_pull_env/.ssh/config \u003c\u003c'EOF' Host github.com HostName github.com User git IdentityFile /root/.ssh/id_ed25519 IdentitiesOnly yes EOF chmod 600 /volume1//git_pull_env/.ssh/config 🛡️ 步驟 3：手動填入 GitHub known_hosts 當我們用 SSH 去連 GitHub 拉原始碼時，系統會先檢查主機指紋（host fingerprint）來確保「你連的真的是 GitHub，而不是某個假冒的中間人」。這其實是避免 中間人攻擊（MITM） 的一種機制。\n平常如果有安裝 ssh-keyscan 指令的話，我們可以用它自動把 GitHub 的主機金鑰加進 known_hosts。但在 DSM 上偏偏沒有這個工具，因此我們得「手動」把 GitHub 的主機指紋加進去。\n可以到 GitHub 官方查詢他們目前的 SSH 主機指紋 ，然後手動把內容寫進 ~/.ssh/known_hosts 裡，類似白名單的概念。\n如果沒有做這個步驟，可能會遇到 Host key verification failed 的錯誤（我就遇到了 QQ）。\n檔案權限 644 表示：\n檔案擁有者可以讀寫 其他人只能讀 cat \u003e /volume1//git_pull_env/.ssh/known_hosts \u003c\u003c'EOF' github.com ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOMqqnkVzrm0SdG6UOoqKLsabgH5C9okWi0dh2l9GKJl github.com ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBEmKSENjQEezOmxkZMy7opKgwFB9nkt5YRrYMjNuG5N87uRgg6CLrbo5wAdT/y6v0mKV0U2w0WZ2YB/++Tpockg= github.com ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCj7ndNxQowgcQnjshcLrqPEiiphnt+VTTvDP6mHBL9j1aNUkY4Ue1gvwnGLVlOhGeYrnZaMgRK6+PKCUXaDbC7qtbW8gIkhL7aGCsOr/C56SJMy/BCZfxd1nWzAOxSDPgVsmerOBYfNqltV9/hWCqBywINIR+5dIg6JTJ72pcEpEjcYgXkE2YEFXV1JHnsKgbLWNlhScqb2UmyRkQyytRLtL+38TGxkxCflmO+5Z8CSSNY7GidjMIZ7Q4zMjA2n1nGrlTDkzwDCsw+wqFPGQA179cnfGWOWRVruj16z6XyvxvjJwbz0wQZ75XK5tKSb7FNyeIEs4TT4jk+S4dhPeAUC5y+bDYirYgM4GC7uEnztnZyaVWQ7B381AK4Qdrwt51ZqExKbQpTUNn+EjqoTwvqNj4kqx5QUCI0ThS/YkOxJCXmPUWZbhjpCg56i+2aB6CmK2JGhn57K5mj0MNdBXA4/WnwH6XoPWJzK5Nyu2zB3nAZp+S5hpQs+p1vN1/wsjk= EOF chmod 644 /volume1//git_pull_env/.ssh/known_hosts 🌐 步驟 4：將公鑰加入 GitHub Deploy Key 執行查看公鑰指令，複製回傳的文字（你的公鑰）：\ncat /volume1//git_pull_env/.ssh/id_ed25519.pub 複製文字並貼上到：\n→ GitHub Repository → Settings → Deploy Keys → Add Key → 允許 Read-only 即可\n🧪 步驟 5：準備專案目錄 選定你放置專案的路徑，我們先記錄起來，例如：\n/volume1/docker/ 🐳 步驟 6：製作 git-pull-in-docker.sh 腳本（用 Docker 執行） 你可能會想，為什麼不直接使用 git pull 來更新專案？\n這是因為 DSM 預設沒有內建 Git CLI，而套件中心裡的 Git Server 套件也只支援 Git 託管（hosting）功能，不包含 git pull 這類的客戶端（client）指令。因此，要用原生方式完成我們的需求幾乎不可能。\n加上這台機器是客戶的，不能使用 CLI 安裝 Git，以免「污染環境」，所以我們可以考慮利用 Docker 建立一個可控且獨立的環境來執行 Git 指令。\n我們選擇 alpine/git 這個映像檔（image），並將專案目錄掛載到 Docker 容器中，就能正常使用 git pull 指令來更新專案了。\n本文所使用的 Docker 是 Synology 的 Docker 套件（Container Manager），若你在其他環境操作，請自行調整。\n在終端機執行以下的指令，建立一個 git-pull-in-docker.sh 腳本，這個腳本會用 Docker 執行 git pull 指令來更新專案。\ncat \u003e /volume1//git_pull_env/git-pull-in-docker.sh \u003c\u003c'EOF' #!/bin/bash set -euo pipefail echo \"==== 🕒 $(date '+%F %T') git pull 開始 ====\" REPO_DIR=\"/volume1/docker/\" SSH_PATH=\"/volume1//git_pull_env/.ssh\" GIT_SSH=\"ssh -i /root/.ssh/id_ed25519 -F /root/.ssh/config\" # 確認 .git 是否存在 if [ ! -d \"$REPO_DIR/.git\" ]; then echo \"❌ 找不到 .git，這不是一個 Git repo\" exit 1 fi # Docker 執行 git pull docker run --rm \\ -v \"$REPO_DIR\":/repo \\ -v \"$SSH_PATH/id_ed25519\":/root/.ssh/id_ed25519:ro \\ -v \"$SSH_PATH/config\":/root/.ssh/config:ro \\ -v \"$SSH_PATH/known_hosts\":/root/.ssh/known_hosts:ro \\ -e GIT_SSH_COMMAND=\"$GIT_SSH\" \\ alpine/git \\ -C /repo pull origin main echo \"✅ git pull 完成\" EOF chmod +x /volume1//git_pull_env/git-pull-in-docker.sh 🧪 步驟 7：測試執行 在還開著的終端機執行：\nsh /volume1//git_pull_env/git-pull-in-docker.sh 你應該會看到以下執行結果：\n==== 2025-07-15 21:00:00 git pull 開始 ==== Already up to date. ✅ git pull 完成 🗓️ 步驟 8：設定 DSM 任務排程器 通常在 Linux Server 上，我們直接操作 crontab 來設定定時任務，不過在 DSM 上，我們可以使用「任務排程器」來設定定時任務，會更加地原生，避免權限或覆寫衝突等錯誤。\n謎之音：我也很怕在套皮的系統底層改一改就爆了。\n前往 DSM → 控制台 → 任務排程器 新增「使用者定義的腳本」 使用者選擇 root 指令填入： chmod +x /volume1//git_pull_env/git-pull-in-docker.sh sh /volume1//git_pull_env/git-pull-in-docker.sh 設定為每天 / 每小時執行即可。 之所以選擇 root 使用者，是只有最高權限的使用者可以存取 Docker daemon，進而操作 Docker Image 和 Container 容器。\n如果你的帳號擁有最高權限，在介面要求輸入 root 密碼時，你可以輸入當下使用者的密碼。\n透過介面執行一次剛剛新增的任務後，即可看到執行的 log，確認是否成功。\n✅ 小結：成果總覽 元件 功能 id_ed25519 GitHub Deploy Key（私鑰） config SSH 設定，指定使用 Deploy Key known_hosts 預先信任 GitHub Host key，避免卡互動 git-pull-in-docker.sh 用 Docker + git image 執行 git pull DSM 任務排程器 定時執行自動更新，以及以 📒 參考資料 Connecting to GitHub with SSH - GitHub Docs Git Server - Synology 知識中心 SSH Key Authentication on Synology - Reddit 在群暉 Synology NAS DSM7.0 上安裝套件管理器 這篇文章與程式碼使用 ChatGPT 和 Claude-4-sonnet by Cursor 輔助撰寫。\n","wordCount":"582","inLanguage":"en","image":"https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-fkyr.png","datePublished":"2025-07-16T00:00:00+08:00","dateModified":"2025-07-16T00:00:00+08:00","author":{"@type":"Person","name":{"name":"油成"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.imych.one/synology-git-pull-with-docker-and-deploy-key/"},"publisher":{"@type":"Organization","name":"YC Photography","logo":{"@type":"ImageObject","url":"https://imych.one/assets/youu.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.imych.one/ accesskey=h title="YC Photography (Alt + H)">YC Photography</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.imych.one/tags/now/ title=Now><span>Now</span></a></li><li><a href=https://blog.imych.one/invitation-code/ title=邀請碼><span>邀請碼</span></a></li><li><a href=https://blog.imych.one/categories/ title=分類><span>分類</span></a></li><li><a href=https://blog.imych.one/tags/ title=標籤><span>標籤</span></a></li><li><a href=https://blog.imych.one/about/ title=關於><span>關於</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">踩坑紀錄：在無 Git CLI 的 Synology DSM 上實作 Git Private Repository 自動更新</h1><div class=post-meta>油成 · 2025 年 07 月 16 日 發布</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#-%e5%89%8d%e7%bd%ae%e6%ba%96%e5%82%99%e5%bb%ba%e7%ab%8b%e8%b3%87%e6%96%99%e5%a4%be%e7%b5%90%e6%a7%8b aria-label="🧱 前置準備：建立資料夾結構">🧱 前置準備：建立資料夾結構</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-1%e7%94%a2%e7%94%9f-ssh-deploy-key aria-label="🔐 步驟 1：產生 SSH Deploy Key">🔐 步驟 1：產生 SSH Deploy Key</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-2%e8%a8%ad%e5%ae%9a-ssh-config aria-label="📋 步驟 2：設定 SSH config">📋 步驟 2：設定 SSH config</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-3%e6%89%8b%e5%8b%95%e5%a1%ab%e5%85%a5-github-known_hosts aria-label="🛡️ 步驟 3：手動填入 GitHub known_hosts">🛡️ 步驟 3：手動填入 GitHub known_hosts</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-4%e5%b0%87%e5%85%ac%e9%91%b0%e5%8a%a0%e5%85%a5-github-deploy-key aria-label="🌐 步驟 4：將公鑰加入 GitHub Deploy Key">🌐 步驟 4：將公鑰加入 GitHub Deploy Key</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-5%e6%ba%96%e5%82%99%e5%b0%88%e6%a1%88%e7%9b%ae%e9%8c%84 aria-label="🧪 步驟 5：準備專案目錄">🧪 步驟 5：準備專案目錄</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-6%e8%a3%bd%e4%bd%9c-git-pull-in-dockersh-%e8%85%b3%e6%9c%ac%e7%94%a8-docker-%e5%9f%b7%e8%a1%8c aria-label="🐳 步驟 6：製作 git-pull-in-docker.sh 腳本（用 Docker 執行）">🐳 步驟 6：製作 git-pull-in-docker.sh 腳本（用 Docker 執行）</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-7%e6%b8%ac%e8%a9%a6%e5%9f%b7%e8%a1%8c aria-label="🧪 步驟 7：測試執行">🧪 步驟 7：測試執行</a></li><li><a href=#-%e6%ad%a5%e9%a9%9f-8%e8%a8%ad%e5%ae%9a-dsm-%e4%bb%bb%e5%8b%99%e6%8e%92%e7%a8%8b%e5%99%a8 aria-label="🗓️ 步驟 8：設定 DSM 任務排程器">🗓️ 步驟 8：設定 DSM 任務排程器</a></li><li><a href=#-%e5%b0%8f%e7%b5%90%e6%88%90%e6%9e%9c%e7%b8%bd%e8%a6%bd aria-label="✅ 小結：成果總覽">✅ 小結：成果總覽</a></li><li><a href=#-%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99 aria-label="📒 參考資料">📒 參考資料</a></li></ul></div></details></div><div class=post-content><p>有些人想在自己的 Synology NAS 上架網站，並且讓程式碼能自動版本更新。如果在純 Linux 環境裡操作，這樣的需求不算太麻煩，通常可以搭配 crontab + git 來自動更新程式碼，就算是 Private Repository 也不是太大的問題。</p><p>不過如果想要在 Synology DSM （以下稱 DSM）上實作，由於 DSM 和終端預設沒有內建 Git CLI，除了套件中心不支援，自行安裝也需要擔心污染環境或被覆寫。除了直接把 code 手動放到專案目錄裡，我們要來用一些土炮的方式繞過這些限制。</p><p>這篇將示範：</p><ul><li>使用 GitHub Deploy Key 進行權限驗證</li><li>使用 Docker container 執行 <code>git pull</code></li><li>自動更新 repo 至指定資料夾</li><li>可整合 DSM 任務排程器定時執行</li></ul><hr><h2 id=-前置準備建立資料夾結構>🧱 前置準備：建立資料夾結構<a hidden class=anchor aria-hidden=true href=#-前置準備建立資料夾結構>#</a></h2><p>在 Synology 上建立以下目錄結構，將會用到的 SSH 設定檔、腳本等都放在這個資料夾裡。</p><p>請搭配 SSH 連線來操作在根目錄建立資料夾。</p><blockquote><p>如果 SSH 連線的功能還沒啟用，請先到 Synology 的控制台 → 安全性 → 遠端存取 → 啟用遠端存取。</p></blockquote><blockquote><p>volume1 是我這台 Synology 上的根目錄，如果你有其他選擇，你可以改成其他目錄，例如 /volume2/ 或 /volume3/。</p></blockquote><pre tabindex=0><code>/volume1/                           # 你的 NAS 根目錄，此處以 volume1 為例
└── &lt;your_repo_name&gt;/               # 你放專案 code 資料夾的名稱
    └── git_pull_env/               # Git 自動化執行環境
        ├── .ssh/                   # 存放 Deploy Key 與 ssh config
        ├── git-pull-in-docker.sh   # 用 Docker 執行 git pull 的腳本
        └── known_hosts             # 預設填入 github.com host key
</code></pre><hr><h2 id=-步驟-1產生-ssh-deploy-key>🔐 步驟 1：產生 SSH Deploy Key<a hidden class=anchor aria-hidden=true href=#-步驟-1產生-ssh-deploy-key>#</a></h2><p>我們採用 SSH Deploy Key 的方式來部署，相較於使用 URL 搭配 access token，這種方式更為安全，能有效避免 token 在連線過程中被竊聽或盜用。</p><hr><table><thead><tr><th style=text-align:left>連線方式</th><th style=text-align:left>優點</th><th style=text-align:left>缺點</th><th style=text-align:left>適用情境</th></tr></thead><tbody><tr><td style=text-align:left><strong>HTTPS （搭配 Personal Access Token）</strong></td><td style=text-align:left><strong>易於設定</strong>：只需在 URL 中嵌入 access token 即可。</td><td style=text-align:left><strong>安全性較低</strong>：token 在連線過程中可能被惡意程式碼或網路監聽竊取，存在外洩風險。</td><td style=text-align:left><strong>個人專案</strong>或<strong>非機密性</strong>的部署環境。</td></tr><tr><td style=text-align:left><strong>SSH （搭配 Deploy Key）</strong></td><td style=text-align:left><strong>安全性更高</strong>：採用加密通訊協定，連線過程中不會傳輸任何憑證，有效避免 token 被竊聽或盜用。</td><td style=text-align:left><strong>設定步驟較為繁瑣</strong>：需要產生 SSH 金鑰對並在 GitHub 專案中新增 Deploy Key。</td><td style=text-align:left><strong>正式部署環境</strong>、<strong>伺服器</strong>或<strong>需要嚴謹安全性</strong>的自動化部署流程。</td></tr></tbody></table><p>使用 SSH 連線至你的 NAS，在終端機執行以下指令。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh
</span></span><span style=display:flex><span>ssh-keygen -t ed25519 -f /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/id_ed25519 -C <span style=color:#e6db74>&#34;&lt;deploy&gt;@&lt;hostname&gt;&#34;</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>600</span> /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/id_ed25519
</span></span></code></pre></div><p>第二條指令末端的 <code>&lt;deploy></code> 是為了方便辨識，可以改成其他名稱；<code>&lt;hostname></code> 則是你的 NAS 主機名稱，一樣可以改成其他名稱，例如 <code>deploy@yc_nas</code>。</p><hr><h2 id=-步驟-2設定-ssh-config>📋 步驟 2：設定 SSH config<a hidden class=anchor aria-hidden=true href=#-步驟-2設定-ssh-config>#</a></h2><p>SSH config 的設定，指定使用我們剛剛產生的 Deploy Key，主要是為了讓 GitHub 認得這支有權限的身份，進而存取專案。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt; /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/config <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Host github.com
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    HostName github.com
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    User git
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    IdentityFile /root/.ssh/id_ed25519
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    IdentitiesOnly yes
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>600</span> /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/config
</span></span></code></pre></div><hr><h2 id=-步驟-3手動填入-github-known_hosts>🛡️ 步驟 3：手動填入 GitHub <code>known_hosts</code><a hidden class=anchor aria-hidden=true href=#-步驟-3手動填入-github-known_hosts>#</a></h2><p>當我們用 SSH 去連 GitHub 拉原始碼時，系統會先檢查主機指紋（host fingerprint）來確保「你連的真的是 GitHub，而不是某個假冒的中間人」。這其實是避免
<a href=https://zh.wikipedia.org/zh-tw/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB target=_blank rel="nofollow noopener noreferrer"><span>中間人攻擊（MITM）
</span></a>的一種機制。</p><p>平常如果有安裝 <code>ssh-keyscan</code> 指令的話，我們可以用它自動把 GitHub 的主機金鑰加進 <code>known_hosts</code>。但在 DSM 上偏偏沒有這個工具，因此我們得「手動」把 GitHub 的主機指紋加進去。</p><p>可以到 GitHub 官方查詢他們目前的
<a href=https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints target=_blank rel="nofollow noopener noreferrer"><span>SSH 主機指紋
</span></a>，然後手動把內容寫進 <code>~/.ssh/known_hosts</code> 裡，類似白名單的概念。</p><blockquote><p>如果沒有做這個步驟，可能會遇到 <code>Host key verification failed</code> 的錯誤（我就遇到了 QQ）。</p></blockquote><blockquote><p>檔案權限 644 表示：</p><ul><li>檔案擁有者可以讀寫</li><li>其他人只能讀</li></ul></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt; /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/known_hosts <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>github.com ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIOMqqnkVzrm0SdG6UOoqKLsabgH5C9okWi0dh2l9GKJl
</span></span></span><span style=display:flex><span><span style=color:#e6db74>github.com ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBEmKSENjQEezOmxkZMy7opKgwFB9nkt5YRrYMjNuG5N87uRgg6CLrbo5wAdT/y6v0mKV0U2w0WZ2YB/++Tpockg=
</span></span></span><span style=display:flex><span><span style=color:#e6db74>github.com ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCj7ndNxQowgcQnjshcLrqPEiiphnt+VTTvDP6mHBL9j1aNUkY4Ue1gvwnGLVlOhGeYrnZaMgRK6+PKCUXaDbC7qtbW8gIkhL7aGCsOr/C56SJMy/BCZfxd1nWzAOxSDPgVsmerOBYfNqltV9/hWCqBywINIR+5dIg6JTJ72pcEpEjcYgXkE2YEFXV1JHnsKgbLWNlhScqb2UmyRkQyytRLtL+38TGxkxCflmO+5Z8CSSNY7GidjMIZ7Q4zMjA2n1nGrlTDkzwDCsw+wqFPGQA179cnfGWOWRVruj16z6XyvxvjJwbz0wQZ75XK5tKSb7FNyeIEs4TT4jk+S4dhPeAUC5y+bDYirYgM4GC7uEnztnZyaVWQ7B381AK4Qdrwt51ZqExKbQpTUNn+EjqoTwvqNj4kqx5QUCI0ThS/YkOxJCXmPUWZbhjpCg56i+2aB6CmK2JGhn57K5mj0MNdBXA4/WnwH6XoPWJzK5Nyu2zB3nAZp+S5hpQs+p1vN1/wsjk=
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>644</span> /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/known_hosts
</span></span></code></pre></div><hr><h2 id=-步驟-4將公鑰加入-github-deploy-key>🌐 步驟 4：將公鑰加入 GitHub Deploy Key<a hidden class=anchor aria-hidden=true href=#-步驟-4將公鑰加入-github-deploy-key>#</a></h2><ol><li><p>執行查看公鑰指令，複製回傳的文字（你的公鑰）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh/id_ed25519.pub
</span></span></code></pre></div></li><li><p>複製文字並貼上到：</p><p>→ GitHub Repository → Settings → Deploy Keys → Add Key
→ 允許 <strong>Read-only</strong> 即可</p></li></ol><p><img alt="GitHub Deploy Key" loading=lazy src=/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-eufg.png></p><hr><h2 id=-步驟-5準備專案目錄>🧪 步驟 5：準備專案目錄<a hidden class=anchor aria-hidden=true href=#-步驟-5準備專案目錄>#</a></h2><p>選定你放置專案的路徑，我們先記錄起來，例如：</p><pre tabindex=0><code>/volume1/docker/&lt;your_repo_name&gt;
</code></pre><hr><h2 id=-步驟-6製作-git-pull-in-dockersh-腳本用-docker-執行>🐳 步驟 6：製作 <code>git-pull-in-docker.sh</code> 腳本（用 Docker 執行）<a hidden class=anchor aria-hidden=true href=#-步驟-6製作-git-pull-in-dockersh-腳本用-docker-執行>#</a></h2><p>你可能會想，為什麼不直接使用 <code>git pull</code> 來更新專案？</p><p>這是因為 DSM 預設沒有內建 Git CLI，而套件中心裡的 Git Server 套件也只支援 Git 託管（hosting）功能，不包含 <code>git pull</code> 這類的客戶端（client）指令。因此，要用原生方式完成我們的需求幾乎不可能。</p><p>加上這台機器是客戶的，不能使用 CLI 安裝 Git，以免「污染環境」，所以我們可以考慮利用 Docker 建立一個可控且獨立的環境來執行 Git 指令。</p><p><strong>我們選擇 <code>alpine/git</code> 這個映像檔（image），並將專案目錄掛載到 Docker 容器中，就能正常使用 <code>git pull</code> 指令來更新專案了。</strong></p><blockquote><p>本文所使用的 Docker 是 Synology 的 Docker 套件（Container Manager），若你在其他環境操作，請自行調整。</p></blockquote><p>在終端機執行以下的指令，建立一個 <code>git-pull-in-docker.sh</code> 腳本，這個腳本會用 Docker 執行 <code>git pull</code> 指令來更新專案。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat &gt; /volume1/&lt;your_repo_name&gt;/git_pull_env/git-pull-in-docker.sh <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#e6db74>set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;==== 🕒 $(date &#39;+%F %T&#39;) git pull 開始 ====&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>REPO_DIR=&#34;/volume1/docker/&lt;your_repo_name&gt;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>SSH_PATH=&#34;/volume1/&lt;your_repo_name&gt;/git_pull_env/.ssh&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>GIT_SSH=&#34;ssh -i /root/.ssh/id_ed25519 -F /root/.ssh/config&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># 確認 .git 是否存在
</span></span></span><span style=display:flex><span><span style=color:#e6db74>if [ ! -d &#34;$REPO_DIR/.git&#34; ]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  echo &#34;❌ 找不到 .git，這不是一個 Git repo&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  exit 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>fi
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74># Docker 執行 git pull
</span></span></span><span style=display:flex><span><span style=color:#e6db74>docker run --rm \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -v &#34;$REPO_DIR&#34;:/repo \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -v &#34;$SSH_PATH/id_ed25519&#34;:/root/.ssh/id_ed25519:ro \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -v &#34;$SSH_PATH/config&#34;:/root/.ssh/config:ro \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -v &#34;$SSH_PATH/known_hosts&#34;:/root/.ssh/known_hosts:ro \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -e GIT_SSH_COMMAND=&#34;$GIT_SSH&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  alpine/git \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  -C /repo pull origin main
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>echo &#34;✅ git pull 完成&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span><span style=display:flex><span>chmod +x /volume1/&lt;your_repo_name&gt;/git_pull_env/git-pull-in-docker.sh
</span></span></code></pre></div><hr><h2 id=-步驟-7測試執行>🧪 步驟 7：測試執行<a hidden class=anchor aria-hidden=true href=#-步驟-7測試執行>#</a></h2><p>在還開著的終端機執行：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sh /volume1/&lt;your_repo_name&gt;/git_pull_env/git-pull-in-docker.sh
</span></span></code></pre></div><p>你應該會看到以下執行結果：</p><pre tabindex=0><code>==== 2025-07-15 21:00:00 git pull 開始 ====
Already up to date.
✅ git pull 完成
</code></pre><hr><h2 id=-步驟-8設定-dsm-任務排程器>🗓️ 步驟 8：設定 DSM 任務排程器<a hidden class=anchor aria-hidden=true href=#-步驟-8設定-dsm-任務排程器>#</a></h2><p>通常在 Linux Server 上，我們直接操作 <code>crontab</code> 來設定定時任務，不過在 DSM 上，我們可以使用「任務排程器」來設定定時任務，會更加地原生，避免權限或覆寫衝突等錯誤。</p><p><del>謎之音：我也很怕在套皮的系統底層改一改就爆了。</del></p><ul><li>前往 DSM → <strong>控制台 → 任務排程器</strong></li><li>新增「使用者定義的腳本」</li><li>使用者選擇 <code>root</code></li><li>指令填入：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod +x /volume1/&lt;your_repo_name&gt;/git_pull_env/git-pull-in-docker.sh
</span></span><span style=display:flex><span>sh /volume1/&lt;your_repo_name&gt;/git_pull_env/git-pull-in-docker.sh
</span></span></code></pre></div><ul><li>設定為每天 / 每小時執行即可。</li></ul><p>之所以選擇 <code>root</code> 使用者，是只有最高權限的使用者可以存取 Docker daemon，進而操作 Docker Image 和 Container 容器。</p><blockquote><p>如果你的帳號擁有最高權限，在介面要求輸入 root 密碼時，你可以輸入當下使用者的密碼。</p></blockquote><p><img alt="DSM 任務排程器 設定執行指令" loading=lazy src=/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-fkyr.png></p><p>透過介面執行一次剛剛新增的任務後，即可看到執行的 log，確認是否成功。</p><p><img alt="DSM 任務排程器 確認指令執行成功與否" loading=lazy src=/synology-git-pull-with-docker-and-deploy-key/SCR-20250716-flks.png></p><hr><h2 id=-小結成果總覽>✅ 小結：成果總覽<a hidden class=anchor aria-hidden=true href=#-小結成果總覽>#</a></h2><table><thead><tr><th>元件</th><th>功能</th></tr></thead><tbody><tr><td><code>id_ed25519</code></td><td>GitHub Deploy Key（私鑰）</td></tr><tr><td><code>config</code></td><td>SSH 設定，指定使用 Deploy Key</td></tr><tr><td><code>known_hosts</code></td><td>預先信任 GitHub Host key，避免卡互動</td></tr><tr><td><code>git-pull-in-docker.sh</code></td><td>用 Docker + git image 執行 <code>git pull</code></td></tr><tr><td><code>DSM 任務排程器</code></td><td>定時執行自動更新，以及以</td></tr></tbody></table><hr><h2 id=-參考資料>📒 參考資料<a hidden class=anchor aria-hidden=true href=#-參考資料>#</a></h2><ul><li><a href=https://docs.github.com/en/authentication/connecting-to-github-with-ssh target=_blank rel="nofollow noopener noreferrer"><span>Connecting to GitHub with SSH - GitHub Docs</span></a></li><li><a href="https://kb.synology.com/zh-hk/DSM/help/Git/git?version=7" target=_blank rel="nofollow noopener noreferrer"><span>Git Server - Synology 知識中心</span></a></li><li><a href=https://www.reddit.com/r/synology/comments/12drqpz/ssh_key_authentication_on_synology/ target=_blank rel="nofollow noopener noreferrer"><span>SSH Key Authentication on Synology - Reddit</span></a></li><li><a href=https://natlee.github.io/Blog/posts/53cbcaf3/ target=_blank rel="nofollow noopener noreferrer"><span>在群暉 Synology NAS DSM7.0 上安裝套件管理器</span></a></li></ul><p>這篇文章與程式碼使用 ChatGPT 和 Claude-4-sonnet by Cursor 輔助撰寫。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.imych.one/tags/synology/>Synology</a></li><li><a href=https://blog.imych.one/tags/git/>Git</a></li><li><a href=https://blog.imych.one/tags/docker/>Docker</a></li><li><a href=https://blog.imych.one/tags/github/>GitHub</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.imych.one/>YC Photography</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>